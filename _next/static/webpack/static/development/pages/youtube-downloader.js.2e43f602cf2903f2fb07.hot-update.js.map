{"version":3,"file":"static/webpack/static/development/pages/youtube-downloader.js.2e43f602cf2903f2fb07.hot-update.js","sources":["webpack:///./pages/youtube-downloader.tsx"],"sourcesContent":["import React, {\n    useState,\n    useCallback,\n    useEffect,\n    useLayoutEffect\n  } from \"react\";\n  import { Pane } from \"evergreen-ui\";\n  import WriteCharactorSearch from \"@components/WriteCharactor/WriteCharactorSearch\";\nimport { async } from \"q\";\n \n  export default function() {\n    const [char, setChar] = useState(\"\");\n    const [description, setDesc] = useState(\"\");\n    const [content, setContent] = useState([]);\n    const onSearch = async slug => {\n        const fetchingUrl = `https://ytinfo.benjaminlowry.com/${slug}`\n        const res = await fetch(fetchingUrl);\n        const value = await res.json() as any;\n        setChar(slug);\n        setDesc(value.description);\n        if(value &&\n            value.player_response \n            && value.player_response.streamingData  \n            && value.player_response.streamingData.formats) {\n            setContent(value.player_response.streamingData.formats as Array<object>);\n        }\n    };\n  \n\n    useEffect(() => {\n\n    }, [char]);\n\n    const downloadUrl = async (url, subfix)=> {\n        let blob = await fetch(url).then(r => r.blob());\n        saveAs(blob, description + '.' + subfix);\n    }\n\n    return (\n      <Pane width=\"800px\" height=\"100%\" margin=\"auto\">\n        <WriteCharactorSearch\n          char={char}\n          onSearch={onSearch}\n        ></WriteCharactorSearch>\n        {content.map((item, ix) => (\n            <div key={ix}>\n                <a href='javascript:;' target=\"_blank\" onClick={()=> {downloadUrl(item.url, item.container)}}  >download</a>\n                <span>{item.resolution}</span>\n                <span>{item.container}</span>\n                \n            </div>\n        ))}\n        <style jsx>{`\n\n        `}</style>\n      </Pane>\n    );\n  }\n  "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAMA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAIA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AALA;AAAA;AAAA;AAkBA;;;;A","sourceRoot":""}