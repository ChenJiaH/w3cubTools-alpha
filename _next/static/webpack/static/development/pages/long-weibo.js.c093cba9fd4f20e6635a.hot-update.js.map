{"version":3,"file":"static/webpack/static/development/pages/long-weibo.js.c093cba9fd4f20e6635a.hot-update.js","sources":["webpack:///./pages/long-weibo.tsx"],"sourcesContent":["import React from \"react\";\nimport { Button, Pane, Dialog } from \"evergreen-ui\";\n\nlet ClassicEditor, CKEditor;\n\nif(__CLIENT__) {\n    ClassicEditor = _ckeditor_ckeditor5BuildClassic;\n    CKEditor = _ckeditor_ckeditor5React;\n}\nclass MyUploadAdapter {\n    loader: any;\n    constructor(loader) {\n        this.loader = loader;\n    }\n    upload() {\n        const loader = this.loader;\n        return loader.file;\n    }\n}\n\nfunction MyCustomUploadAdapterPlugin( editor ) {\n    editor.plugins.get( 'FileRepository' ).createUploadAdapter = ( loader ) => {\n        // Configure the URL to the upload script in your back-end here!\n        return new MyUploadAdapter( loader );\n    };\n}\n\n\n\nexport default function() {\n    const generateImage = ()=> {\n        let el = document.querySelector(\".ck.ck-content\");\n        var data = el.className;\n        el.className += ' html2canvasreset';\n        html2canvas(el, {\n            allowTaint: true,\n            allowedContent:true,\n            width: el.scrollWidth,\n            height: el.scrollHeight\n        }).then(canvas => {\n            el.className = data;//old className - Jquery: $(target).removeClass(\"html2canvasreset\");\n\n            document.body.appendChild(canvas)\n        });\n    }\n    return (\n        <div className=\"box\" style={{width: '700px', margin: 'auto'}}>\n            <Pane marginBottom={15} >\n                <Button height={50} onClick={generateImage} >Generate Image</Button>\n            </Pane>\n            <Dialog\n                className={modalClasses}\n                isShown={this.state.open}\n                width={\"max-content\"}\n                topOffset=\"30px\"\n                title=\"Image conversion results\"\n                onCloseComplete={() => this.setState({ open: false })}\n                hasFooter={false}\n            >\n          </Dialog>\n            {__CLIENT__ && \n                <CKEditor\n                    editor={ ClassicEditor }\n                    id=\"editor_box\"\n                    data=\"<div id='capture'>Hello from CKEditor 5!</div>\"\n                    config={{\n                        toolbar: {items:[\"heading\",\"|\",\"bold\",\"italic\",\"link\",\"bulletedList\",\"numberedList\",\"imageUpload\",\"blockQuote\",\"insertTable\", \"undo\",\"redo\"]}, // \"mediaEmbed\",\n                        extraPlugins: [ MyCustomUploadAdapterPlugin ],\n                        config: {\n                            ui: {\n                                width: '500px',\n                                height: '300px'\n                            }\n                        }\n                    }}\n                    onInit={ editor => {\n                        \n                        // You can store the \"editor\" and use when it is needed.\n                        console.log( 'Editor is ready to use!', editor );\n                    } }\n                    onChange={ ( event, editor ) => {\n                        const data = editor.getData();\n                        console.log( { event, editor, data } );\n                    } }\n                    onBlur={ editor => {\n                        console.log( 'Blur.', editor );\n                    } }\n                    onFocus={ editor => {\n                        console.log( 'Focus.', editor );\n                    } }\n                />}\n                <style>{`\n                .html2canvasreset{\n                    overflow: visible !important;\n                    width: auto !important;\n                    height: auto !important;\n                    max-height: auto !important;\n                    border: 1px solid transparent!important;\n                }\n                .ck-editor__main > .ck-editor__editable {\n                    min-height: 500px;\n                }\n                `}</style>\n        </div>\n    );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;;;AAAA;AACA;AACA;AACA;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAHA;AAUA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;;;;A","sourceRoot":""}