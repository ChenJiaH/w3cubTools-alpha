{"version":3,"file":"static/webpack/static/development/pages/long-weibo.js.0e1b7ea3aa67a704be24.hot-update.js","sources":["webpack:///./pages/long-weibo.tsx"],"sourcesContent":["import React from \"react\";\nimport { Button } from \"evergreen-ui\";\n\nlet ClassicEditor, CKEditor;\n\nif(__CLIENT__) {\n    ClassicEditor = _ckeditor_ckeditor5BuildClassic;\n    CKEditor = _ckeditor_ckeditor5React;\n}\nclass MyUploadAdapter {\n    loader: any;\n    constructor(loader) {\n        this.loader = loader;\n    }\n    upload() {\n        const loader = this.loader;\n        return loader.file;\n    }\n}\n\nfunction MyCustomUploadAdapterPlugin( editor ) {\n    editor.plugins.get( 'FileRepository' ).createUploadAdapter = ( loader ) => {\n        // Configure the URL to the upload script in your back-end here!\n        return new MyUploadAdapter( loader );\n    };\n}\nexport default function() {\n    const generateImage = ()=> {\n        let el = document.querySelector(\".ck.ck-content\");\n\n        var data = el.className;\n        el.className += ' html2canvasreset';\n\n\n        html2canvas(el, {\n            allowTaint: true,\n            allowedContent:true,\n            width: el.scrollWidth,\n            height: el.scrollHeight,\n            \"onrendered\": function() {\n                el.className = data;//old className - Jquery: $(target).removeClass(\"html2canvasreset\");\n            }\n        }).then(canvas => {\n            document.body.appendChild(canvas)\n        });\n    }\n    return (\n        <div className=\"box\" style={{width: '700px', margin: 'auto'}}>\n            {__CLIENT__ && \n                <CKEditor\n                    editor={ ClassicEditor }\n                    id=\"editor_box\"\n                    data=\"<div id='capture'>Hello from CKEditor 5!</div>\"\n                    config={{\n                        toolbar: {items:[\"heading\",\"|\",\"bold\",\"italic\",\"link\",\"bulletedList\",\"numberedList\",\"imageUpload\",\"blockQuote\",\"insertTable\", \"undo\",\"redo\"]}, // \"mediaEmbed\",\n                        extraPlugins: [ MyCustomUploadAdapterPlugin ],\n                        config: {\n                            ui: {\n                                width: '500px',\n                                height: '300px'\n                            }\n                        }\n                    }}\n                    onInit={ editor => {\n                        // You can store the \"editor\" and use when it is needed.\n                        console.log( 'Editor is ready to use!', editor );\n                    } }\n                    onChange={ ( event, editor ) => {\n                        const data = editor.getData();\n                        console.log( { event, editor, data } );\n                    } }\n                    onBlur={ editor => {\n                        console.log( 'Blur.', editor );\n                    } }\n                    onFocus={ editor => {\n                        console.log( 'Focus.', editor );\n                    } }\n                />}\n\n                <Button onClick={generateImage} >Generate Image</Button>\n                <style>{`\n                .html2canvasreset{\n                    overflow: visible !important;\n                    width: auto !important;\n                    height: auto !important;\n                    max-height: auto !important;\n                }\n                .ck-editor__main > .ck-editor__editable {\n                    height: 500px;\n                }\n                `}</style>\n        </div>\n    );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;;;AAAA;AACA;AACA;AACA;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAHA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;A","sourceRoot":""}