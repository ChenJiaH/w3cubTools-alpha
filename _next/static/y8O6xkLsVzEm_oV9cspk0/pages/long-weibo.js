("object"!==typeof self?self:this.webpackJsonp="object"!==typeof self?self:this.webpackJsonp||[]).push([[73],{"0jRx":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/long-weibo",function(){var e=n("5Y4E");return{page:e.default||e}}])},"5Y4E":function(e,t,n){"use strict";n.r(t);var o,a,i=n("doui"),c=n("0iUn"),r=n("sLSF"),l=n("vYYK"),s=n("q1tI"),d=n.n(s),u=n("Ar1z"),m=n("Cino"),f=n("kFyS");o=_ckeditor_ckeditor5BuildClassic,a=_ckeditor_ckeditor5React;var p=function(){function e(t){Object(c.default)(this,e),Object(l.a)(this,"loader",void 0),this.loader=t}return Object(r.default)(e,[{key:"upload",value:function(){return this.loader.file}}]),e}();function b(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new p(e)}}var h=function(e,t){return function(e,t){var n=new XMLHttpRequest;n.onload=function(){t(n.response)},n.open("GET",e),n.send()}(e="https://helloacm.com/api/image-to-base64/?url="+e,t)};t.default=function(){var e=Object(s.useState)(!1),t=Object(i.default)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),l=Object(i.default)(r,2),p=l[0],g=l[1],E=Object(s.useState)(!1),y=Object(i.default)(E,2),O=y[0];y[1];return d.a.createElement("div",{className:"box",style:{width:"700px",margin:"auto"}},d.a.createElement("h1",null,"\u957f\u5fae\u535a\u751f\u6210\u5668"),d.a.createElement(u.a,{marginBottom:15,display:"flex"},d.a.createElement(m.a,{height:50,isLoading:p,onClick:function e(){var t=document.querySelector(".ck.ck-content").getElementsByTagName("img");if([].slice.call(t).reduce(function(e,t){return/^(https?\:)?\/\//.test(t.src)?e+Number(!0):e},0)>0)return g(!0),void setTimeout(function(){e()},300);g(!1);var n=document.querySelector(".ck.ck-content"),o=n.className;if(n.className+=" html2canvasreset",!O){var a=document.createElement("div");a.style.font="10px Comic Sans MS",a.style.color="#efefef",a.style.textAlign="right",a.style.marginTop="20px",a.innerHTML="Imaged by w3cubTools",n.appendChild(a)}html2canvas(n,{allowTaint:!0,allowedContent:!0,width:n.scrollWidth,height:n.scrollHeight+100}).then(function(e){n.className=o,c(!0),e.id="imgcanvas";var t=document.getElementById("cnavas");t&&t.append(e)})}},"Generate Image")),d.a.createElement(f.a,{isShown:n,width:"max-content",topOffset:"30px",title:"Image results",onCloseComplete:function(){return c(!1)},hasFooter:!1},d.a.createElement("div",null,d.a.createElement(m.a,{className:"save-btn",onClick:function(e){document.getElementById("imgcanvas").toBlob(function(e){saveAs(e,"longweibo.png")})}},"Save as Image"),d.a.createElement("div",{id:"cnavas"}))),d.a.createElement("div",{style:{minHeight:"600px"}},d.a.createElement(a,{editor:o,id:"editor_box",data:"<div id='capture'>Welcome to Long Weibo Generator!</div>",config:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","blockQuote","insertTable","undo","redo"],extraPlugins:[b],config:{ui:{width:"500px",height:"300px"}}},onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){var n=t.getData();setTimeout(function(){!function(){var e=document.querySelector(".ck.ck-content").getElementsByTagName("img");[].slice.call(e).forEach(function(e,t){e.removeAttribute("srcset"),/^(https?\:)?\/\//.test(e.src)&&h(e.src,function(t){e.src=t})})}()},300),console.log({event:e,editor:t,data:n})},onBlur:function(e){console.log("Blur.",e)},onFocus:function(e){console.log("Focus.",e)}})),d.a.createElement("style",null,"\n                .html2canvasreset{\n                    overflow: visible !important;\n                    width: auto !important;\n                    height: auto !important;\n                    max-height: auto !important;\n                    border: 1px solid transparent!important;\n                }\n                .ck-editor__main > .ck-editor__editable {\n                    min-height: 500px;\n                }\n                "))}},CpR3:function(e,t,n){"use strict";var o,a,i=n("X82s"),c=n("sLOm"),r=n("UCZM"),l=n("UHGV"),s=n("fYJG"),d=n("hdFR"),u=n("Ot2J"),m=n("7KPZ"),f=n("q1tI"),p=n.n(f),b=n("17x9"),h=n.n(b),g=n("S3Uj"),E=n.n(g),y=n("wQw8"),O=n.n(y),v=n("RXGs"),C=n("icCI"),x=n("uS4J"),j=n("9/s7"),k=n("TsTy");var w="cubic-bezier(0.0, 0.0, 0.2, 1)",S="cubic-bezier(0.4, 0.0, 1, 1)",B=y.css.keyframes("fadeInAnimation",{from:{opacity:0},to:{opacity:1}}),T=y.css.keyframes("fadeOutAnimation",{from:{opacity:1},to:{opacity:0}}),L=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(l.a)(this,Object(s.a)(t).call(this,e)),Object(m.a)(Object(d.a)(n),"bringFocusInsideOverlay",function(){return requestAnimationFrame(function(){if(null!=n.containerElement&&null!=document.activeElement&&n.props.isShown&&!n.containerElement.contains(document.activeElement)){var e=n.containerElement.querySelector("[autofocus]"),t=n.containerElement.querySelector("[tabindex]"),o=n.containerElement.querySelector("button");e?e.focus():t?t.focus():o&&o.focus()}})}),Object(m.a)(Object(d.a)(n),"bringFocusBackToTarget",function(){return requestAnimationFrame(function(){if(null!=n.containerElement&&null!=document.activeElement){var e=n.containerElement.contains(document.activeElement);n.previousActiveElement&&(document.activeElement===document.body||e)&&n.previousActiveElement.focus()}})}),Object(m.a)(Object(d.a)(n),"onEsc",function(e){27===e.keyCode&&n.props.shouldCloseOnEscapePress&&n.close()}),Object(m.a)(Object(d.a)(n),"close",function(){!1!==Object(k.a)(n.props.onBeforeClose)&&n.setState({exiting:!0})}),Object(m.a)(Object(d.a)(n),"handleBodyScroll",function(e){n.props.preventBodyScrolling&&function(e){var t=document.body.getBoundingClientRect().width;e?(o=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=o||"";var n=document.body.getBoundingClientRect().width-t;e?(a=document.body.style.paddingRight,document.body.style.paddingRight=Math.max(0,n||0)+"px"):document.body.style.paddingRight=a||""}(e)}),Object(m.a)(Object(d.a)(n),"handleEnter",function(){n.handleBodyScroll(!0),Object(k.a)(n.props.onEnter)}),Object(m.a)(Object(d.a)(n),"handleEntering",function(e){document.body.addEventListener("keydown",n.onEsc,!1),n.props.onEntering(e)}),Object(m.a)(Object(d.a)(n),"handleEntered",function(e){n.previousActiveElement=document.activeElement,n.bringFocusInsideOverlay(),n.props.onEntered(e)}),Object(m.a)(Object(d.a)(n),"handleExit",function(){n.handleBodyScroll(!1),Object(k.a)(n.props.onExit)}),Object(m.a)(Object(d.a)(n),"handleExiting",function(e){document.body.removeEventListener("keydown",n.onEsc,!1),n.bringFocusBackToTarget(),n.props.onExiting(e)}),Object(m.a)(Object(d.a)(n),"handleExited",function(e){n.setState({exiting:!1,exited:!0}),n.props.onExited(e)}),Object(m.a)(Object(d.a)(n),"handleBackdropClick",function(e){e.target===e.currentTarget&&n.props.shouldCloseOnClick&&n.close()}),Object(m.a)(Object(d.a)(n),"onContainerRef",function(e){n.containerElement=e}),n.state={exiting:!1,exited:!e.isShown},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){!e.isShown&&this.props.isShown&&this.setState({exited:!1})}},{key:"componentWillUnmount",value:function(){this.handleBodyScroll(!1),document.body.removeEventListener("keydown",this.onEsc,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,o=t.containerProps,a=void 0===o?{}:o,c=t.isShown,r=t.children,l=this.state,s=l.exiting;return l.exited?null:p.a.createElement(C.a,{value:x.a.OVERLAY},function(t){return p.a.createElement(v.a,null,p.a.createElement(E.a,{appear:!0,unmountOnExit:!0,timeout:240,in:c&&!s,onExit:e.handleExit,onExiting:e.handleExiting,onExited:e.handleExited,onEnter:e.handleEnter,onEntering:e.handleEntering,onEntered:e.handleEntered},function(o){return p.a.createElement(O.a,Object(i.a)({onClick:e.handleBackdropClick,innerRef:e.onContainerRef,position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:t,css:(c=n.overlayBackgroundColor,{"&::before":{backgroundColor:c,left:0,top:0,position:"fixed",display:"block",width:"100%",height:"100%",content:'" "'},'&[data-state="entering"]::before, &[data-state="entered"]::before':{animation:"".concat(B," ").concat(240,"ms ").concat(w," both")},'&[data-state="exiting"]::before, &[data-state="exited"]::before':{animation:"".concat(T," ").concat(240,"ms ").concat(S," both")}}),"data-state":o},a),"function"===typeof r?r({state:o,close:e.close}):r);var c}))})}}]),t}(p.a.Component);L.displayName="Overlay",Object(m.a)(L,"propTypes",{children:h.a.oneOfType([h.a.node,h.a.func]).isRequired,isShown:h.a.bool,containerProps:h.a.object,preventBodyScrolling:h.a.bool,shouldCloseOnClick:h.a.bool,shouldCloseOnEscapePress:h.a.bool,onBeforeClose:h.a.func,onExit:h.a.func,onExiting:h.a.func,onExited:h.a.func,onEnter:h.a.func,onEntering:h.a.func,onEntered:h.a.func,theme:h.a.object.isRequired}),Object(m.a)(L,"defaultProps",{onHide:function(){},shouldCloseOnClick:!0,shouldCloseOnEscapePress:!0,preventBodyScrolling:!1,onExit:function(){},onExiting:function(){},onExited:function(){},onEnter:function(){},onEntering:function(){},onEntered:function(){}});t.a=Object(j.a)(L)},kFyS:function(e,t,n){"use strict";var o=n("X82s"),a=n("sLOm"),i=n("UCZM"),c=n("UHGV"),r=n("fYJG"),l=n("hdFR"),s=n("Ot2J"),d=n("7KPZ"),u=n("q1tI"),m=n.n(u),f=n("17x9"),p=n.n(f),b=n("wQw8"),h=n("Ar1z"),g=n("MfQJ"),E=n("eqHG"),y=n("CpR3"),O=n("glFX"),v=n("Cino"),C=n("9/s7"),x="cubic-bezier(0.0, 0.0, 0.2, 1)",j="cubic-bezier(0.4, 0.0, 1, 1)",k=b.css.keyframes("openAnimation",{from:{transform:"scale(0.8)",opacity:0},to:{transform:"scale(1)",opacity:1}}),w=b.css.keyframes("closeAnimation",{from:{transform:"scale(1)",opacity:1},to:{transform:"scale(0.8)",opacity:0}}),S={'&[data-state="entering"], &[data-state="entered"]':{animation:"".concat(k," ").concat(200,"ms ").concat(x," both")},'&[data-state="exiting"]':{animation:"".concat(w," ").concat(200,"ms ").concat(j," both")}},B=function(e){function t(){var e,n;Object(a.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=Object(c.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(i))),Object(d.a)(Object(l.a)(n),"renderChildren",function(e){var t=n.props.children;return"function"===typeof t?t({close:e}):"string"===typeof t?m.a.createElement(g.a,null,t):t}),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.width,i=t.intent,c=t.isShown,r=t.topOffset,l=t.sideOffset,s=t.hasHeader,d=t.hasClose,u=t.hasFooter,f=t.hasCancel,p=t.onCloseComplete,b=t.onOpenComplete,g=t.onCancel,C=t.onConfirm,x=t.confirmLabel,j=t.isConfirmLoading,k=t.isConfirmDisabled,w=t.cancelLabel,B=t.shouldCloseOnOverlayClick,T=t.shouldCloseOnEscapePress,L=t.containerProps,R=t.contentContainerProps,I=t.minHeightContent,P=t.preventBodyScrolling,F=Number.isInteger(l)?"".concat(l,"px"):l,q="calc(100% - ".concat(F," * 2)"),A=Number.isInteger(r)?"".concat(r,"px"):r,H="calc(100% - ".concat(A," * 2)");return m.a.createElement(y.a,{isShown:c,shouldCloseOnClick:B,shouldCloseOnEscapePress:T,onExited:p,onEntered:b,containerProps:{display:"flex",alignItems:"flex-start",justifyContent:"center"},preventBodyScrolling:P},function(t){var c=t.state,r=t.close;return m.a.createElement(h.a,Object(o.a)({role:"dialog",backgroundColor:"white",elevation:4,borderRadius:8,width:a,maxWidth:q,maxHeight:H,marginX:F,marginY:A,display:"flex",flexDirection:"column",css:S,"data-state":c},L),s&&m.a.createElement(h.a,{padding:16,flexShrink:0,borderBottom:"muted",display:"flex",alignItems:"center"},m.a.createElement(E.a,{is:"h4",size:600,flex:"1"},n),d&&m.a.createElement(O.a,{appearance:"minimal",icon:"cross",onClick:function(){return g(r)}})),m.a.createElement(h.a,Object(o.a)({"data-state":c,display:"flex",overflow:"auto",padding:16,flexDirection:"column",minHeight:I},R),m.a.createElement(h.a,null,e.renderChildren(r))),u&&m.a.createElement(h.a,{borderTop:"muted",clearfix:!0},m.a.createElement(h.a,{padding:16,float:"right"},f&&m.a.createElement(v.a,{tabIndex:0,onClick:function(){return g(r)}},w),m.a.createElement(v.a,{tabIndex:0,marginLeft:8,appearance:"primary",isLoading:j,disabled:k,onClick:function(){return C(r)},intent:i},x))))})}}]),t}(m.a.Component);B.displayName="Dialog",Object(d.a)(B,"propTypes",{children:p.a.oneOfType([p.a.node,p.a.func]).isRequired,intent:p.a.oneOf(["none","success","warning","danger"]).isRequired,isShown:p.a.bool,title:p.a.node,hasHeader:p.a.bool,hasFooter:p.a.bool,hasCancel:p.a.bool,hasClose:p.a.bool,onCloseComplete:p.a.func,onOpenComplete:p.a.func,onConfirm:p.a.func,confirmLabel:p.a.string,isConfirmLoading:p.a.bool,isConfirmDisabled:p.a.bool,onCancel:p.a.func,cancelLabel:p.a.string,shouldCloseOnOverlayClick:p.a.bool,shouldCloseOnEscapePress:p.a.bool,width:p.a.oneOfType([p.a.string,p.a.number]),topOffset:p.a.oneOfType([p.a.string,p.a.number]),sideOffset:p.a.oneOfType([p.a.string,p.a.number]),minHeightContent:p.a.oneOfType([p.a.string,p.a.number]),containerProps:p.a.object,contentContainerProps:p.a.object,preventBodyScrolling:p.a.bool}),Object(d.a)(B,"defaultProps",{isShown:!1,hasHeader:!0,hasClose:!0,hasFooter:!0,hasCancel:!0,intent:"none",width:560,topOffset:"12vmin",sideOffset:"16px",minHeightContent:80,confirmLabel:"Confirm",isConfirmLoading:!1,isConfirmDisabled:!1,cancelLabel:"Cancel",shouldCloseOnOverlayClick:!0,shouldCloseOnEscapePress:!0,onCancel:function(e){return e()},onConfirm:function(e){return e()},preventBodyScrolling:!1}),t.a=Object(C.a)(B)}},[["0jRx",1,0]]]);